/* ===========================
   Reset y variables de tema
   =========================== */
* { box-sizing: border-box; }
html, body { height: 100%; }
html { -webkit-text-size-adjust: 100%; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  color: #0f172a; /* slate-900 */
  overflow: hidden; /* evitamos scroll, el JS ajusta el layout */
}

/* Colores/espaciados base (ajustables) */
:root{
  --slot-size: 62px;          /* tamaño base del recuadro */
  --gap-letter: 12px;         /* espacio entre recuadros dentro de una fila */
  --gap-word-row: 14px;       /* espacio entre filas de recuadros */
  --radius-xl: 18px;
  --radius-lg: 14px;
  --radius-md: 10px;
  --shadow-md: 0 8px 24px rgba(0,0,0,.12);
  --shadow-sm: 0 4px 14px rgba(0,0,0,.10);
  --ink: #0f172a;             /* casi negro */
  --ink-2: #334155;           /* slate-600 */
  --surface: #fffaf1;         /* crema */
  --pill: #0f172a;            /* pastillas oscuras */
  --pill-ink: #fff;
}

/* ===========================
   Fondo del sitio
   =========================== */
.bg-yellow{
  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(255,255,255,.5), rgba(255,255,255,0)),
    radial-gradient(1200px 600px at 80% 10%, rgba(255,255,255,.5), rgba(255,255,255,0)),
    linear-gradient(180deg, #ffd977 0%, #f4c95d 28%, #f1c14c 100%);
  min-height: 100svh;
}

/* Contenedor general */
.wrap{
  max-width: 860px;
  margin: 0 auto;
  padding: 16px;
  padding-bottom: env(safe-area-inset-bottom);
}

/* ===========================
   Tarjeta del juego
   =========================== */
.gamecard{
  background: var(--surface);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-md);
  padding: 16px 16px 14px;
  margin: 12px auto 0;
}
.gamecard .clue{
  font-weight: 800;
  font-size: 1.05rem;
  margin: 2px 0 10px;
}
#msg{
  min-height: 22px;
  margin: 4px 0 0;
  font-weight: 700;
}
#msg .ok{ color:#15803d; }   /* verde */
#msg .bad{ color:#b91c1c; }  /* rojo */

/* ===========================
   Pistas (botones tipo pastilla)
   =========================== */
.hints{
  display:flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 10px;
}
.pill{
  appearance: none;
  border: 0;
  border-radius: 999px;
  padding: 9px 12px;
  background: var(--pill);
  color: var(--pill-ink);
  font-weight: 800;
  box-shadow: var(--shadow-sm);
  cursor: pointer;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
.pill:active{ transform: scale(.98); filter: brightness(1.05); }
.pill[disabled]{ opacity:.55; pointer-events:none; filter:grayscale(.2); }

/* ===========================
   Auto-grid de casillas
   =========================== */
#slots{
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--gap-word-row);
  margin: 16px 0 18px;
}

.row{
  display: grid;
  gap: var(--gap-letter);
  justify-content: center;
  width: 100%;
  max-width: 100%;
}

/* Recuadro individual */
.slot{
  width: var(--slot-size);
  height: calc(var(--slot-size) * 1.18);  /* un poco más alto para “look” de ficha */
  border-radius: 12px;
  background: #0f172a;      /* oscuro */
  color: #fff;
  display: grid;
  place-items: center;
  font-weight: 900;
  font-size: calc(var(--slot-size) * 0.48);
  letter-spacing: .5px;
  box-shadow: 0 3px 10px rgba(0,0,0,.15) inset, 0 1px 0 rgba(255,255,255,.08);
  transition: transform .06s ease, box-shadow .12s ease, outline-color .12s ease;
  outline: 2px solid transparent;
}
.slot.filled{ box-shadow: 0 2px 6px rgba(0,0,0,.18) inset, 0 2px 8px rgba(0,0,0,.12); }
.slot.lock{   background:#1f2937; outline-color:#94a3b8; } /* bloqueada por pista */
.slot.focus{  outline-color:#f59e0b; }

/* ===========================
   Top/HUD (si lo usas)
   =========================== */
.topbar, .hud{
  display:flex; align-items:center; justify-content:space-between;
  margin: 0 0 6px;
}
.badge{
  background:#0f172a; color:#fff; font-weight:700;
  padding:4px 10px; border-radius:999px; font-size:.92rem;
  box-shadow:0 2px 6px rgba(0,0,0,.15);
}
#points, .points { font-weight:800; }

/* Barra superior específica del modo contrarreloj */
.modebar{
  display:flex; justify-content:center; gap:10px;
  margin: 6px 0 0;
}
#timerBadge{ background:#111827; }
#hitsBadge{ background:#1f2937; }

/* ===========================
   Animaciones de feedback
   =========================== */
@keyframes shake-kf {
  10%, 90% { transform: translate3d(-1px, 0, 0); }
  20%, 80% { transform: translate3d(2px, 0, 0); }
  30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
  40%, 60% { transform: translate3d(4px, 0, 0); }
}
.shake{ animation: shake-kf .22s linear both; }

@keyframes winflash-kf {
  0% { box-shadow: 0 0 0 rgba(245,158,11,0); }
  50% { box-shadow: 0 0 0 8px rgba(245,158,11,.25); }
  100%{ box-shadow: 0 0 0 rgba(245,158,11,0); }
}
.winflash{ animation: winflash-kf .35s ease; }

/* ===========================
   Overlay de game over / tiempo
   =========================== */
#gameover{
  position: fixed;
  inset: 0;
  display: none;           /* se muestra con JS */
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,.45);
  z-index: 9999;
  padding: 24px;
}
#gameover .card{
  max-width: 520px;
  width: 100%;
  background: #fff;
  color: var(--ink);
  border-radius: var(--radius-xl);
  padding: 18px 16px;
  box-shadow: var(--shadow-md);
  text-align: center;
}
#gameover h3{ margin: 0 0 6px; font-size: 1.2rem; }
#gameover p{ margin: 4px 0 14px; color: var(--ink-2); }
#gameover .btn{
  display:inline-block; border:0; cursor:pointer; user-select:none;
  background:#0f172a; color:#fff; border-radius:12px; padding:10px 14px; font-weight:800;
}

/* ===========================
   Input “centinela” (desktop)
   =========================== */
#typer{
  position: fixed !important;
  left: -9999px !important;
  top: -9999px !important;
  width: 1px !important;
  height: 1px !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* ===========================
   Pantalla de inicio (index)
   =========================== */
.home-card{
  max-width: 560px;
  margin: 24px auto;
  background: #fff7e6;
  border-radius: var(--radius-xl);
  padding: 20px 18px;
  box-shadow: var(--shadow-md);
  text-align: center;
}
.title{ font-size: 1.6rem; margin: 2px 0 2px; color:#0f172a; }
.subtitle{ color:#475569; margin: 0 0 14px; }

/* Botones de selección de modo */
.btn-grid{
  display: grid;
  grid-template-columns: 1fr;
  gap: 12px;
}
@media (min-width: 420px){
  .btn-grid{ grid-template-columns: 1fr 1fr; }
}
.btn-mode{
  display:flex; align-items:center; justify-content:center;
  gap:10px;
  padding: 14px 16px;
  border-radius: var(--radius-lg);
  font-weight: 800;
  text-decoration:none;
  color:#fff;
  box-shadow: var(--shadow-sm);
  transition: transform .08s ease, filter .08s ease;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}
.btn-mode:active{ transform: scale(.98); filter: brightness(1.05); }
.btn-classic{ background:#0f172a; }
.btn-time{    background:#f59e0b; color:#0f172a; }
.btn-mode .emoji{ font-size: 1.25rem; line-height: 1; }

/* ===========================
   Utilidades menores
   =========================== */
.hidden{ display:none !important; }
.center{ text-align:center; }
