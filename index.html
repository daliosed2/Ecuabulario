<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Ecuabulario</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-yellow">
  <div class="wrap">
    <header class="topbar">
      <div class="brand"><span class="logo">EC</span><b>Ecuabulario</b></div>
      <div class="hud">
        <div class="coins">ğŸª™ <span id="coins">0</span></div>
      </div>
    </header>

    <h1 class="title">Juega y aprende ğŸ‡ªğŸ‡¨</h1>

    <section class="grid">
      <article class="card cat">
        <div class="cat-left">
          <div class="cat-emoji">ğŸ½ï¸</div>
          <div>
            <h2>Comida & bebida</h2>
            <p class="muted">Adivina platos y sabores ecuatorianos.</p>
            <div class="progress"><div id="bar-food" class="bar"></div></div>
            <small class="muted"><span id="done-food">0</span>/<span id="total-food">0</span> resueltas</small>
          </div>
        </div>
        <a class="btn primary" href="game.html">Jugar</a>
      </article>
    </section>

    <footer class="muted foot">Tu progreso y monedas se guardan en este dispositivo.</footer>
  </div>

  <script type="module">
    import {loadCoins, ensureInit, getProgress, BANKS} from './data.js';
    ensureInit();
    document.getElementById('coins').textContent = loadCoins();
    const p = getProgress('food');
    document.getElementById('done-food').textContent  = p.done;
    document.getElementById('total-food').textContent = BANKS.food.length;
    document.getElementById('bar-food').style.width   = (p.ratio*100)+'%';
  </script>
</body>
</html>
